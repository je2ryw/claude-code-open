# èœ‚ç¾¤æ§åˆ¶å° UI è®¾è®¡è§„æ ¼

## 1. æ¦‚è¿°

èœ‚ç¾¤æ§åˆ¶å°æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„é¡µé¢ï¼Œç”¨äºå¯è§†åŒ–å’Œç®¡ç†èœ‚ç¾¤æ¶æ„çš„æ‰§è¡Œè¿‡ç¨‹ã€‚

### 1.1 è®¾è®¡åŸåˆ™
- **å®æ—¶æ€§**ï¼šæ‰€æœ‰çŠ¶æ€å˜åŒ–éƒ½æœ‰åŠ¨ç”»åé¦ˆ
- **å±‚æ¬¡æ¸…æ™°**ï¼šQueen â†’ Worker â†’ Task çš„å±‚çº§å…³ç³»ä¸€ç›®äº†ç„¶
- **æ“ä½œä¾¿æ·**ï¼šå±•å¼€/æŠ˜å ã€æš‚åœ/æ¢å¤ç­‰æ“ä½œç›´è§‚æ˜“ç”¨

### 1.2 æŠ€æœ¯é€‰å‹
- **æ¡†æ¶**: React 18 + TypeScript
- **çŠ¶æ€ç®¡ç†**: useState + useReducer
- **åŠ¨ç”»**: CSS Animations + Framer Motion
- **å®æ—¶é€šä¿¡**: WebSocket
- **æ ·å¼**: CSS Modules / Tailwind CSS

---

## 2. é¡µé¢å¸ƒå±€

### 2.1 æ•´ä½“ç»“æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  [ğŸ’¬ èŠå¤©]  [ğŸ èœ‚ç¾¤]  [ğŸ“‹ è“å›¾]          Claude Code     [âš™ï¸]      â”‚ â”‚ â† é¡¶éƒ¨å¯¼èˆª
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚               â”‚                           â”‚                         â”‚ â”‚
â”‚ â”‚   è“å›¾åˆ—è¡¨     â”‚        ä»»åŠ¡æ ‘åŒºåŸŸ          â”‚      Worker é¢æ¿        â”‚ â”‚
â”‚ â”‚   (å·¦ä¾§æ )     â”‚        (ä¸­å¤®ä¸»åŒº)          â”‚       (å³ä¾§æ )          â”‚ â”‚
â”‚ â”‚               â”‚                           â”‚                         â”‚ â”‚
â”‚ â”‚   200px       â”‚         flex: 1           â”‚        320px            â”‚ â”‚
â”‚ â”‚               â”‚                           â”‚                         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚                         æ—¶é—´çº¿ / æ—¥å¿—åŒºåŸŸ                            â”‚ â”‚ â† åº•éƒ¨é¢æ¿
â”‚ â”‚                           (å¯æŠ˜å , é«˜åº¦ 150px)                       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 å“åº”å¼æ–­ç‚¹
| æ–­ç‚¹ | å®½åº¦ | å¸ƒå±€è°ƒæ•´ |
|------|------|----------|
| Desktop | â‰¥1200px | ä¸‰æ å¸ƒå±€ |
| Tablet | 768-1199px | ä¸¤æ ï¼ˆè“å›¾åˆ—è¡¨æŠ˜å ï¼‰ |
| Mobile | <768px | å•æ ï¼ˆæ ‡ç­¾åˆ‡æ¢ï¼‰ |

---

## 3. ç»„ä»¶è®¾è®¡

### 3.1 é¡¶éƒ¨å¯¼èˆªæ  (TopNavBar)

```tsx
interface TopNavBarProps {
  activeTab: 'chat' | 'swarm' | 'blueprint';
  onTabChange: (tab: string) => void;
}
```

**è®¾è®¡ç¨¿**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ğŸ’¬ èŠå¤©]  [ğŸ èœ‚ç¾¤â€¢]  [ğŸ“‹ è“å›¾]          ğŸ¤– Claude Code    [âš™ï¸]  â”‚
â”‚             â†‘                                                       â”‚
â”‚         æ´»è·ƒæŒ‡ç¤ºç‚¹                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**äº¤äº’**:
- ç‚¹å‡»åˆ‡æ¢é¡µé¢ï¼ˆæ— åˆ·æ–°ï¼ŒSPA è·¯ç”±ï¼‰
- èœ‚ç¾¤æ‰§è¡Œä¸­æ—¶ï¼Œæ ‡ç­¾æ—æ˜¾ç¤ºè„‰åŠ¨çš„ç»¿ç‚¹

---

### 3.2 è“å›¾åˆ—è¡¨ (BlueprintList)

```tsx
interface BlueprintListProps {
  blueprints: Blueprint[];
  activeId: string | null;
  onSelect: (id: string) => void;
  onCreate: () => void;
}
```

**è®¾è®¡ç¨¿**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ è“å›¾             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ” æœç´¢...       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ç”¨æˆ·ç³»ç»Ÿ        â”‚ â”‚  â† é€‰ä¸­æ€ï¼šå·¦è¾¹æ¡†é«˜äº®
â”‚ â”‚ âœ… å·²å®Œæˆ       â”‚ â”‚
â”‚ â”‚ 10/10 ä»»åŠ¡      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ è®¢å•ç³»ç»Ÿ        â”‚ â”‚  â† æ‰§è¡Œä¸­ï¼šå‘¼å¸ç¯
â”‚ â”‚ ğŸ”„ æ‰§è¡Œä¸­       â”‚ â”‚
â”‚ â”‚ 6/15 ä»»åŠ¡       â”‚ â”‚
â”‚ â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–“â–‘â–‘â–‘ 40%   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ æ”¯ä»˜ç³»ç»Ÿ        â”‚ â”‚
â”‚ â”‚ â³ å¾…æ‰§è¡Œ       â”‚ â”‚
â”‚ â”‚ 0/8 ä»»åŠ¡        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [+ æ–°å»ºè“å›¾]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**çŠ¶æ€å›¾æ ‡**:
- â³ å¾…æ‰§è¡Œ (pending)
- ğŸ”„ æ‰§è¡Œä¸­ (executing) - å¸¦æ—‹è½¬åŠ¨ç”»
- âœ… å·²å®Œæˆ (completed)
- â¸ï¸ å·²æš‚åœ (paused)
- âŒ å¤±è´¥ (failed)

---

### 3.3 ä»»åŠ¡æ ‘ (TaskTree)

```tsx
interface TaskTreeProps {
  root: TaskNode;
  selectedTaskId: string | null;
  onTaskSelect: (taskId: string) => void;
  onTaskExpand: (taskId: string) => void;
}

interface TaskNodeProps {
  node: TaskNode;
  depth: number;
  isExpanded: boolean;
  isSelected: boolean;
}
```

**è®¾è®¡ç¨¿**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¦ è®¢å•ç³»ç»Ÿ (Root)                                    [â¸ï¸][ğŸ”„] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â–¼ ğŸ“ ç”¨æˆ·æ¨¡å—                                    âœ… 3/3       â”‚
â”‚  â”‚   â”œâ”€â”€ âœ… ç”¨æˆ·æ³¨å†Œæ¥å£                          å®Œæˆ          â”‚
â”‚  â”‚   â”œâ”€â”€ âœ… ç”¨æˆ·ç™»å½•æ¥å£                          å®Œæˆ          â”‚
â”‚  â”‚   â””â”€â”€ âœ… ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢                          å®Œæˆ          â”‚
â”‚  â”‚                                                              â”‚
â”‚  â–¼ ğŸ“ è®¢å•æ¨¡å—                                    ğŸ”„ 2/5       â”‚
â”‚  â”‚   â”œâ”€â”€ âœ… åˆ›å»ºè®¢å•                              å®Œæˆ          â”‚
â”‚  â”‚   â”œâ”€â”€ âœ… æŸ¥è¯¢è®¢å•                              å®Œæˆ          â”‚
â”‚  â”‚   â”œâ”€â”€ ğŸ”„ æ›´æ–°è®¢å•çŠ¶æ€                          ç¼–ç ä¸­ â–ˆâ–ˆâ–“â–‘   â”‚ â† å½“å‰æ‰§è¡Œ
â”‚  â”‚   â”‚       â””â”€â”€ ğŸ§ª å•å…ƒæµ‹è¯•: 3/5 é€šè¿‡                          â”‚
â”‚  â”‚   â”œâ”€â”€ â³ å–æ¶ˆè®¢å•                              ç­‰å¾…          â”‚
â”‚  â”‚   â””â”€â”€ â³ è®¢å•ç»Ÿè®¡                              ç­‰å¾…          â”‚
â”‚  â”‚                                                              â”‚
â”‚  â–¶ ğŸ“ æ”¯ä»˜æ¨¡å—                                    â³ 0/4       â”‚ â† æŠ˜å çŠ¶æ€
â”‚  â”‚                                                              â”‚
â”‚  â–¶ ğŸ“ é€šçŸ¥æ¨¡å—                                    â³ 0/3       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**èŠ‚ç‚¹çŠ¶æ€æ ·å¼**:
| çŠ¶æ€ | å›¾æ ‡ | èƒŒæ™¯è‰² | åŠ¨ç”» |
|------|------|--------|------|
| pending | â³ | transparent | æ—  |
| blocked | ğŸš« | #fff3cd | æ—  |
| test_writing | ğŸ“ | #e7f3ff | è„‰åŠ¨ |
| coding | ğŸ’» | #e7f3ff | è„‰åŠ¨ |
| testing | ğŸ§ª | #fff3cd | æ—‹è½¬ |
| test_failed | âŒ | #f8d7da | æŠ–åŠ¨ |
| passed | âœ… | #d4edda | æ‰“å‹¾åŠ¨ç”» |
| review | ğŸ‘€ | #e2e3f1 | æ—  |

**äº¤äº’**:
- ç‚¹å‡» â–¶/â–¼ å±•å¼€/æŠ˜å å­èŠ‚ç‚¹
- ç‚¹å‡»èŠ‚ç‚¹åç§°é€‰ä¸­ï¼Œå³ä¾§æ˜¾ç¤ºè¯¦æƒ…
- åŒå‡»è¿›å…¥ä»»åŠ¡è¯¦æƒ…é¡µ
- æ‹–æ‹½è¾¹ç¼˜è°ƒæ•´é¢æ¿å®½åº¦

---

### 3.4 Worker å¡ç‰‡ (WorkerCard)

```tsx
interface WorkerCardProps {
  worker: WorkerAgent;
  isActive: boolean;
  onClick: () => void;
}
```

**è®¾è®¡ç¨¿**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ Worker-1                    [ğŸ’¡] â”‚ â† å‘¼å¸ç¯ï¼ˆå·¥ä½œä¸­ç»¿è‰²ï¼Œç©ºé—²ç°è‰²ï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  çŠ¶æ€: ğŸ’» ç¼–ç ä¸­                     â”‚
â”‚  ä»»åŠ¡: æ›´æ–°è®¢å•çŠ¶æ€                  â”‚
â”‚  æ¨¡å‹: sonnet                       â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ TDD é˜¶æ®µ                       â”‚  â”‚
â”‚  â”‚ â—‹ write_test                  â”‚  â”‚
â”‚  â”‚ â—‹ run_test_red                â”‚  â”‚
â”‚  â”‚ â— write_code  â† å½“å‰           â”‚  â”‚
â”‚  â”‚ â—‹ run_test_green              â”‚  â”‚
â”‚  â”‚ â—‹ refactor                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  è¿›åº¦: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  45%    â”‚ â† å¹³æ»‘åŠ¨ç”»
â”‚                                     â”‚
â”‚  é‡è¯•: 1/3                          â”‚
â”‚  è€—æ—¶: 2m 35s                       â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [æŸ¥çœ‹æ—¥å¿—]  [æš‚åœ]  [ç»ˆæ­¢]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Worker é¢æ¿å¸ƒå±€**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘‘ Queen Agent                      â”‚
â”‚ çŠ¶æ€: åè°ƒä¸­                         â”‚
â”‚ å†³ç­–: åˆ†é…ä»»åŠ¡ç»™ Worker-2            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ Workers (3/5 æ´»è·ƒ)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Worker-1 å¡ç‰‡                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Worker-2 å¡ç‰‡                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Worker-3 å¡ç‰‡                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.5 æ—¶é—´çº¿ (Timeline)

```tsx
interface TimelineProps {
  events: TimelineEvent[];
  filter?: string[];
  onEventClick: (event: TimelineEvent) => void;
}
```

**è®¾è®¡ç¨¿**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“œ æ—¶é—´çº¿                              [å…¨éƒ¨ â–¼] [ğŸ” æœç´¢]  [æŠ˜å  â–³]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  10:35:22  âœ…  Worker-1 å®Œæˆä»»åŠ¡ã€Œåˆ›å»ºè®¢å•ã€                             â”‚ â† æ·¡å…¥åŠ¨ç”»
â”‚  10:35:20  ğŸ§ª  Worker-2 æµ‹è¯•é€šè¿‡ (5/5)                                  â”‚
â”‚  10:34:58  ğŸ’»  Worker-1 å¼€å§‹ç¼–ç ã€ŒæŸ¥è¯¢è®¢å•ã€                             â”‚
â”‚  10:34:45  ğŸ“  Worker-2 ç¼–å†™æµ‹è¯•ã€Œæ›´æ–°è®¢å•çŠ¶æ€ã€                         â”‚
â”‚  10:34:30  ğŸ¯  Queen åˆ†é…ä»»åŠ¡ç»™ Worker-2                                â”‚
â”‚  10:34:15  âš ï¸  Worker-3 æµ‹è¯•å¤±è´¥ï¼Œå‡†å¤‡é‡è¯• (1/3)                        â”‚ â† æ©™è‰²é«˜äº®
â”‚  10:34:00  ğŸš€  è“å›¾ã€Œè®¢å•ç³»ç»Ÿã€å¼€å§‹æ‰§è¡Œ                                  â”‚
â”‚                                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åŠ è½½æ›´å¤š â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                               â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**äº‹ä»¶ç±»å‹é¢œè‰²**:
- ğŸš€ å¼€å§‹: è“è‰²
- âœ… å®Œæˆ: ç»¿è‰²
- âš ï¸ è­¦å‘Š: æ©™è‰²
- âŒ é”™è¯¯: çº¢è‰²
- ğŸ“ ä¿¡æ¯: ç°è‰²

---

## 4. åŠ¨ç”»è§„æ ¼

### 4.1 è¿›åº¦æ¡å¹³æ»‘å¢é•¿
```css
.progress-bar {
  transition: width 0.5s ease-out;
}
```

### 4.2 çŠ¶æ€å˜åŒ–èŠ‚ç‚¹è„‰åŠ¨
```css
@keyframes pulse {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.8;
  }
}

.task-node--active {
  animation: pulse 2s infinite;
}
```

### 4.3 æ–°ä»»åŠ¡æ·¡å…¥
```css
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.task-node--new {
  animation: fadeIn 0.3s ease-out;
}
```

### 4.4 å®Œæˆæ‰“å‹¾åŠ¨ç”»
```css
@keyframes checkmark {
  0% {
    stroke-dashoffset: 100;
  }
  100% {
    stroke-dashoffset: 0;
  }
}

.checkmark-icon path {
  stroke-dasharray: 100;
  animation: checkmark 0.5s ease-out forwards;
}
```

### 4.5 Worker å‘¼å¸ç¯
```css
@keyframes breathing {
  0%, 100% {
    box-shadow: 0 0 5px rgba(76, 175, 80, 0.5);
  }
  50% {
    box-shadow: 0 0 20px rgba(76, 175, 80, 0.8);
  }
}

.worker-card--working .status-light {
  background: #4CAF50;
  animation: breathing 2s infinite;
}

.worker-card--idle .status-light {
  background: #9E9E9E;
}
```

### 4.6 è¿çº¿æµåŠ¨æ•ˆæœ
```css
@keyframes flow {
  0% {
    stroke-dashoffset: 20;
  }
  100% {
    stroke-dashoffset: 0;
  }
}

.tree-connector--active {
  stroke-dasharray: 5, 5;
  animation: flow 1s linear infinite;
}
```

---

## 5. é¢œè‰²è§„èŒƒ

### 5.1 ä¸»è‰²æ¿
| ç”¨é€” | é¢œè‰² | Hex |
|------|------|-----|
| ä¸»è‰² | è“è‰² | #1976D2 |
| æˆåŠŸ | ç»¿è‰² | #4CAF50 |
| è­¦å‘Š | æ©™è‰² | #FF9800 |
| é”™è¯¯ | çº¢è‰² | #F44336 |
| ä¿¡æ¯ | ç°è‰² | #9E9E9E |

### 5.2 çŠ¶æ€èƒŒæ™¯è‰²
| çŠ¶æ€ | èƒŒæ™¯è‰² | è¾¹æ¡†è‰² |
|------|--------|--------|
| æ‰§è¡Œä¸­ | #E3F2FD | #1976D2 |
| å·²å®Œæˆ | #E8F5E9 | #4CAF50 |
| å¤±è´¥ | #FFEBEE | #F44336 |
| ç­‰å¾… | #FAFAFA | #E0E0E0 |
| é˜»å¡ | #FFF8E1 | #FF9800 |

---

## 6. ç»„ä»¶æ–‡ä»¶ç»“æ„

```
src/web/client/src/
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ SwarmConsole/
â”‚       â”œâ”€â”€ index.tsx              # ä¸»é¡µé¢
â”‚       â”œâ”€â”€ SwarmConsole.module.css
â”‚       â””â”€â”€ hooks/
â”‚           â”œâ”€â”€ useSwarmState.ts   # çŠ¶æ€ç®¡ç†
â”‚           â””â”€â”€ useSwarmWebSocket.ts # WebSocket
â”‚
â”œâ”€â”€ components/
â”‚   â””â”€â”€ swarm/
â”‚       â”œâ”€â”€ TopNavBar/
â”‚       â”‚   â”œâ”€â”€ index.tsx
â”‚       â”‚   â””â”€â”€ TopNavBar.module.css
â”‚       â”‚
â”‚       â”œâ”€â”€ BlueprintList/
â”‚       â”‚   â”œâ”€â”€ index.tsx
â”‚       â”‚   â”œâ”€â”€ BlueprintItem.tsx
â”‚       â”‚   â””â”€â”€ BlueprintList.module.css
â”‚       â”‚
â”‚       â”œâ”€â”€ TaskTree/
â”‚       â”‚   â”œâ”€â”€ index.tsx
â”‚       â”‚   â”œâ”€â”€ TaskNode.tsx
â”‚       â”‚   â”œâ”€â”€ TreeConnector.tsx
â”‚       â”‚   â””â”€â”€ TaskTree.module.css
â”‚       â”‚
â”‚       â”œâ”€â”€ WorkerPanel/
â”‚       â”‚   â”œâ”€â”€ index.tsx
â”‚       â”‚   â”œâ”€â”€ QueenStatus.tsx
â”‚       â”‚   â”œâ”€â”€ WorkerCard.tsx
â”‚       â”‚   â”œâ”€â”€ TDDProgress.tsx
â”‚       â”‚   â””â”€â”€ WorkerPanel.module.css
â”‚       â”‚
â”‚       â”œâ”€â”€ Timeline/
â”‚       â”‚   â”œâ”€â”€ index.tsx
â”‚       â”‚   â”œâ”€â”€ TimelineEvent.tsx
â”‚       â”‚   â””â”€â”€ Timeline.module.css
â”‚       â”‚
â”‚       â””â”€â”€ common/
â”‚           â”œâ”€â”€ ProgressBar.tsx
â”‚           â”œâ”€â”€ StatusBadge.tsx
â”‚           â”œâ”€â”€ AnimatedCheckmark.tsx
â”‚           â””â”€â”€ BreathingLight.tsx
```

---

## 7. WebSocket äº‹ä»¶

### 7.1 å®¢æˆ·ç«¯ â†’ æœåŠ¡ç«¯
```typescript
// è®¢é˜…èœ‚ç¾¤çŠ¶æ€
{ type: 'swarm:subscribe', payload: { blueprintId: string } }

// å–æ¶ˆè®¢é˜…
{ type: 'swarm:unsubscribe', payload: { blueprintId: string } }

// æ§åˆ¶æ“ä½œ
{ type: 'swarm:pause', payload: { blueprintId: string } }
{ type: 'swarm:resume', payload: { blueprintId: string } }
{ type: 'swarm:stop', payload: { blueprintId: string } }

// Worker æ§åˆ¶
{ type: 'worker:pause', payload: { workerId: string } }
{ type: 'worker:terminate', payload: { workerId: string } }
```

### 7.2 æœåŠ¡ç«¯ â†’ å®¢æˆ·ç«¯
```typescript
// åˆå§‹çŠ¶æ€
{ type: 'swarm:state', payload: SwarmState }

// å¢é‡æ›´æ–°
{ type: 'swarm:task_update', payload: { taskId, status, progress } }
{ type: 'swarm:worker_update', payload: { workerId, status, task, tddPhase } }
{ type: 'swarm:queen_update', payload: { status, decision } }
{ type: 'swarm:timeline_event', payload: TimelineEvent }

// å®Œæˆ/é”™è¯¯
{ type: 'swarm:completed', payload: { blueprintId, stats } }
{ type: 'swarm:error', payload: { blueprintId, error } }
```

---

## 8. å¾…ç¡®è®¤äº‹é¡¹

- [ ] æ˜¯å¦éœ€è¦ä»»åŠ¡è¯¦æƒ…å¼¹çª—ï¼Ÿ
- [ ] æ˜¯å¦éœ€è¦æ£€æŸ¥ç‚¹åˆ—è¡¨å’Œå›æ»šæ“ä½œï¼Ÿ
- [ ] æ˜¯å¦éœ€è¦ Worker æ—¥å¿—å®æ—¶å±•ç¤ºï¼Ÿ
- [ ] æ˜¯å¦éœ€è¦å¯¼å‡ºæ‰§è¡ŒæŠ¥å‘ŠåŠŸèƒ½ï¼Ÿ

---

## 9. å¼€å‘ä¼˜å…ˆçº§

| é˜¶æ®µ | ç»„ä»¶ | ä¼˜å…ˆçº§ |
|------|------|--------|
| P0 | é¡µé¢æ¡†æ¶ + è·¯ç”± | æœ€é«˜ |
| P0 | ä»»åŠ¡æ ‘ï¼ˆå±•å¼€/æŠ˜å ï¼‰ | æœ€é«˜ |
| P0 | Worker å¡ç‰‡ | æœ€é«˜ |
| P1 | å®æ—¶ WebSocket | é«˜ |
| P1 | è¿›åº¦æ¡åŠ¨ç”» | é«˜ |
| P1 | å‘¼å¸ç¯åŠ¨ç”» | é«˜ |
| P2 | æ—¶é—´çº¿ | ä¸­ |
| P2 | è“å›¾åˆ—è¡¨ | ä¸­ |
| P3 | å…¶ä»–åŠ¨ç”» | ä½ |
| P3 | å“åº”å¼é€‚é… | ä½ |
